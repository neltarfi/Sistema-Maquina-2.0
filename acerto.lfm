object frmAcerto: TfrmAcerto
  Left = 169
  Height = 553
  Top = 157
  Width = 889
  Caption = 'Acerto'
  ClientHeight = 553
  ClientWidth = 889
  Color = clSilver
  OnClose = FormClose
  OnShow = FormShow
  LCLVersion = '2.0.6.0'
  object Panel1: TPanel
    Left = 0
    Height = 511
    Top = 0
    Width = 416
    ClientHeight = 511
    ClientWidth = 416
    TabOrder = 0
    object Panel2: TPanel
      Left = 11
      Height = 184
      Top = 16
      Width = 390
      ClientHeight = 184
      ClientWidth = 390
      TabOrder = 0
      object dblCliente: TDBLookupComboBox
        Left = 16
        Height = 23
        Top = 64
        Width = 360
        KeyField = 'COD_CLIENTE'
        ListField = 'NOME'
        ListFieldIndex = 0
        ListSource = dsCliente
        LookupCache = False
        OnSelect = dblClienteSelect
        TabOrder = 0
      end
      object Status: TRadioGroup
        Left = 23
        Height = 58
        Top = 102
        Width = 113
        AutoFill = True
        Caption = 'Status'
        ChildSizing.LeftRightSpacing = 6
        ChildSizing.EnlargeHorizontal = crsHomogenousChildResize
        ChildSizing.EnlargeVertical = crsHomogenousChildResize
        ChildSizing.ShrinkHorizontal = crsScaleChilds
        ChildSizing.ShrinkVertical = crsScaleChilds
        ChildSizing.Layout = cclLeftToRightThenTopToBottom
        ChildSizing.ControlsPerLine = 1
        ClientHeight = 38
        ClientWidth = 109
        ItemIndex = 0
        Items.Strings = (
          'Aberto'
          'Fechado'
        )
        OnClick = StatusClick
        TabOrder = 1
      end
    end
    object DBNavigator1: TDBNavigator
      Left = 41
      Height = 25
      Top = 445
      Width = 241
      BevelOuter = bvNone
      ChildSizing.EnlargeHorizontal = crsScaleChilds
      ChildSizing.EnlargeVertical = crsScaleChilds
      ChildSizing.ShrinkHorizontal = crsScaleChilds
      ChildSizing.ShrinkVertical = crsScaleChilds
      ChildSizing.Layout = cclLeftToRightThenTopToBottom
      ChildSizing.ControlsPerLine = 100
      ClientHeight = 25
      ClientWidth = 241
      DataSource = dsAcerto
      Options = []
      TabOrder = 1
      VisibleButtons = [nbFirst, nbPrior, nbNext, nbLast]
    end
    object Panel4: TPanel
      Left = 8
      Height = 175
      Top = 208
      Width = 401
      ClientHeight = 175
      ClientWidth = 401
      TabOrder = 2
      OnClick = Panel4Click
      object edtCredito: TEdit
        Left = 320
        Height = 23
        Top = 88
        Width = 72
        TabOrder = 0
      end
      object edtDebito: TEdit
        Left = 240
        Height = 23
        Top = 88
        Width = 72
        Font.Color = clRed
        ParentFont = False
        TabOrder = 1
      end
      object edtHistorico: TEdit
        Left = 104
        Height = 23
        Top = 32
        Width = 288
        TabOrder = 2
      end
      object Label4: TLabel
        Left = 8
        Height = 15
        Top = 8
        Width = 24
        Caption = 'Data'
        ParentColor = False
      end
      object Label5: TLabel
        Left = 104
        Height = 15
        Top = 8
        Width = 48
        Caption = 'Histórico'
        ParentColor = False
      end
      object Label6: TLabel
        Left = 240
        Height = 15
        Top = 64
        Width = 35
        Caption = 'Débito'
        ParentColor = False
      end
      object Label7: TLabel
        Left = 320
        Height = 15
        Top = 64
        Width = 39
        Caption = 'Crédito'
        ParentColor = False
      end
      object dbdData: TDBDateEdit
        Left = 8
        Height = 23
        Top = 32
        Width = 88
        CalendarDisplaySettings = [dsShowHeadings, dsShowDayNames]
        DateOrder = doNone
        ButtonWidth = 23
        NumGlyphs = 1
        MaxLength = 0
        TabOrder = 3
        Text = 'dbdData'
      end
      object Button1: TButton
        Left = 297
        Height = 25
        Top = 136
        Width = 75
        Caption = 'Button1'
        TabOrder = 4
      end
    end
  end
  object Panel3: TPanel
    Left = 424
    Height = 491
    Top = 16
    Width = 456
    Caption = 'Panel3'
    ClientHeight = 491
    ClientWidth = 456
    TabOrder = 1
    object Edit1: TEdit
      Left = 8
      Height = 23
      Top = 88
      Width = 418
      TabOrder = 0
      Text = 'Edit1'
    end
    object DBGrid1: TDBGrid
      Left = 8
      Height = 305
      Top = 120
      Width = 441
      Color = clWindow
      Columns = <      
        item
          Title.Caption = 'Celec.'
          Width = 40
          FieldName = 'SELECIONADO'
        end      
        item
          Title.Caption = 'Data'
          Width = 65
          FieldName = 'DATA'
        end      
        item
          Title.Caption = 'Historico'
          Width = 150
          FieldName = 'HISTORICO'
        end      
        item
          Font.Color = clRed
          Title.Caption = 'Debito'
          Width = 64
          FieldName = 'DEBITO'
          DisplayFormat = '0.00'
        end      
        item
          Title.Caption = 'Credito'
          FieldName = 'CREDITO'
          DisplayFormat = '0.00'
        end>
      DataSource = dsGrid
      ReadOnly = True
      TabOrder = 1
      OnDblClick = DBGrid1DblClick
    end
    object Label1: TLabel
      Left = 8
      Height = 15
      Top = 72
      Width = 73
      Caption = 'Nome Cliente'
      ParentColor = False
    end
    object edtCodAcerto: TEdit
      Left = 8
      Height = 23
      Top = 40
      Width = 56
      TabOrder = 2
    end
    object Label2: TLabel
      Left = 8
      Height = 15
      Top = 21
      Width = 63
      Caption = 'Cód. Acerto'
      ParentColor = False
    end
    object Label3: TLabel
      Left = 304
      Height = 15
      Top = 448
      Width = 29
      Caption = 'Saldo'
      ParentColor = False
    end
    object dbeSaldo: TDBEdit
      Left = 344
      Height = 23
      Top = 440
      Width = 80
      DataField = 'SALDO'
      DataSource = dsSaldo
      CharCase = ecNormal
      MaxLength = 0
      TabOrder = 3
    end
  end
  object qrCliente: TSQLQuery
    FieldDefs = <    
      item
        Name = 'SUBTRACT'
        DataType = ftFloat
        Precision = -1
      end    
      item
        Name = 'STATUS'
        DataType = ftString
        Precision = -1
        Size = 36
      end    
      item
        Name = 'NOME'
        DataType = ftString
        Precision = -1
        Size = 120
      end    
      item
        Name = 'COD_CLIENTE'
        DataType = ftInteger
        Precision = -1
      end>
    Database = DataModule1.IBCMaquina
    Transaction = DataModule1.SQLTMaquina
    SQL.Strings = (
      'select (sum(da.Credito) - sum(da.Debito)),'
      '       da.Status,'
      '       c.Nome,'
      '       c.Cod_Cliente'
      'from DetAcerto da'
      'inner join Clientes c on c.Cod_Cliente = da.Cod_Cli'
      'group by c.Nome, c.Cod_Cliente, Status'
      'having  ((sum(da.Credito) - sum(da.Debito))<>0) and (Status <> ''Cancelado'')'
      ''
      ''
    )
    Params = <>
    left = 72
    top = 24
    object qrClienteNOME: TStringField
      FieldKind = fkData
      FieldName = 'NOME'
      Index = 0
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
      Size = 120
    end
    object qrClienteCOD_CLIENTE: TLongintField
      FieldKind = fkData
      FieldName = 'COD_CLIENTE'
      Index = 1
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = True
    end
    object qrClienteSTATUS: TStringField
      FieldKind = fkData
      FieldName = 'STATUS'
      Index = 2
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
      Size = 36
    end
  end
  object dsCliente: TDataSource
    DataSet = qrCliente
    left = 149
    top = 32
  end
  object qrGrid: TSQLQuery
    FieldDefs = <    
      item
        Name = 'COD_DETACERTO'
        DataType = ftInteger
        Precision = -1
      end    
      item
        Name = 'COD_ACERTO'
        DataType = ftInteger
        Precision = -1
      end    
      item
        Name = 'COD_CLI'
        DataType = ftInteger
        Precision = -1
      end    
      item
        Name = 'SELECIONADO'
        DataType = ftFixedChar
        Precision = -1
        Size = 4
      end    
      item
        Name = 'DATA'
        DataType = ftDate
        Precision = -1
      end    
      item
        Name = 'HISTORICO'
        DataType = ftString
        Precision = -1
        Size = 120
      end    
      item
        Name = 'CREDITO'
        DataType = ftBCD
        Precision = 9
        Size = 2
      end    
      item
        Name = 'DEBITO'
        DataType = ftBCD
        Precision = 9
        Size = 2
      end    
      item
        Name = 'STATUS'
        DataType = ftString
        Precision = -1
        Size = 36
      end>
    Database = DataModule1.IBCMaquina
    Transaction = DataModule1.SQLTMaquina
    SQL.Strings = (
      'select * from DetAcerto'
      'where ((Cod_Acerto >= :IDAcerto1) and (Cod_Acerto <= :IDAcerto2))'
      '      and ((Cod_Cli >= :IDCliente1) and (Cod_Cli <= :IDCliente2))'
      '      and (Status <> ''Cancelado'')'
    )
    Params = <    
      item
        DataType = ftUnknown
        Name = 'IDAcerto1'
        ParamType = ptInput
      end    
      item
        DataType = ftUnknown
        Name = 'IDAcerto2'
        ParamType = ptInput
      end    
      item
        DataType = ftUnknown
        Name = 'IDCliente1'
        ParamType = ptInput
      end    
      item
        DataType = ftUnknown
        Name = 'IDCliente2'
        ParamType = ptInput
      end>
    UpdateMode = upWhereAll
    left = 744
    top = 19
    object qrGridCOD_DETACERTO: TLongintField
      FieldKind = fkData
      FieldName = 'COD_DETACERTO'
      Index = 0
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = True
    end
    object qrGridCOD_ACERTO: TLongintField
      FieldKind = fkData
      FieldName = 'COD_ACERTO'
      Index = 1
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
    end
    object qrGridCOD_CLI: TLongintField
      FieldKind = fkData
      FieldName = 'COD_CLI'
      Index = 2
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
    end
    object qrGridSELECIONADO: TStringField
      FieldKind = fkData
      FieldName = 'SELECIONADO'
      Index = 3
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
      Size = 4
    end
    object qrGridDATA: TDateField
      FieldKind = fkData
      FieldName = 'DATA'
      Index = 4
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
    end
    object qrGridHISTORICO: TStringField
      FieldKind = fkData
      FieldName = 'HISTORICO'
      Index = 5
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
      Size = 120
    end
    object qrGridCREDITO: TBCDField
      FieldKind = fkData
      FieldName = 'CREDITO'
      Index = 6
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
      Precision = 9
      Currency = False
      MaxValue = 0
      MinValue = 0
      Size = 2
    end
    object qrGridDEBITO: TBCDField
      FieldKind = fkData
      FieldName = 'DEBITO'
      Index = 7
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
      Precision = 9
      Currency = False
      MaxValue = 0
      MinValue = 0
      Size = 2
    end
    object qrGridSTATUS: TStringField
      FieldKind = fkData
      FieldName = 'STATUS'
      Index = 8
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
      Size = 36
    end
  end
  object dsGrid: TDataSource
    DataSet = qrGrid
    left = 816
    top = 19
  end
  object qrAcerto: TSQLQuery
    FieldDefs = <    
      item
        Name = 'COD_ACERTO'
        DataType = ftInteger
        Precision = -1
      end    
      item
        Name = 'STATUS'
        DataType = ftString
        Precision = -1
        Size = 36
      end>
    Database = DataModule1.IBCMaquina
    Transaction = DataModule1.SQLTMaquina
    SQL.Strings = (
      'select * from Acerto'
    )
    Params = <>
    left = 319
    top = 456
    object qrAcertoCOD_ACERTO: TLongintField
      FieldKind = fkData
      FieldName = 'COD_ACERTO'
      Index = 0
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = True
    end
    object qrAcertoSTATUS: TStringField
      FieldKind = fkData
      FieldName = 'STATUS'
      Index = 1
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
      Size = 36
    end
  end
  object dsAcerto: TDataSource
    DataSet = qrAcerto
    left = 382
    top = 459
  end
  object qrSaldo: TSQLQuery
    FieldDefs = <    
      item
        Name = 'SALDO'
        DataType = ftBCD
        Precision = 18
        Size = 2
      end    
      item
        Name = 'STATUS'
        DataType = ftString
        Precision = -1
        Size = 36
      end>
    Database = DataModule1.IBCMaquina
    Transaction = DataModule1.SQLTMaquina
    SQL.Strings = (
      'select (sum(da.Credito) - sum(da.Debito)) as Saldo,'
      '       da.Cod_Cli,'
      '       da.Cod_Acerto,'
      '       da.Selecionado,'
      '       da.Status'
      'from DetAcerto da'
      'group by da.Cod_Acerto, da.Cod_Cli, da.Status, da.Selecionado'
      'having  (da.Cod_Acerto = :IDAcerto) and (da.Cod_Cli = :IDCliente) and (da.Selecionado=''X'')'
      '        and (da.Status <> ''Cancelado'')'
    )
    Params = <    
      item
        DataType = ftUnknown
        Name = 'IDAcerto'
        ParamType = ptInput
      end    
      item
        DataType = ftUnknown
        Name = 'IDCliente'
        ParamType = ptInput
      end>
    left = 634
    top = 456
  end
  object dsSaldo: TDataSource
    DataSet = qrSaldo
    left = 679
    top = 459
  end
end
